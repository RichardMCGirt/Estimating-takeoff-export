<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vanir Estimating Tool</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="darkmode.css">

  <!-- XLSX Library -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
  <div class="main-wrapper">

    <!-- ðŸ”˜ Dark Mode Toggle Button -->
    <button id="darkModeToggle">Switch to Dark Mode</button>

    <!-- ðŸ”” Toast Notification -->
    <div id="toast"></div>

    <!-- âœï¸ Step 1: Complete This Table -->
    <h2>Step 1: Complete this table</h2>
    <form id="estimateForm" class="form-grid">
      <div class="form-section">
        <label>Builder:
          <input type="text" name="builder" id="builderInput" autocomplete="off" />
          <div id="builderDropdown" class="autocomplete-dropdown"></div>
        </label>

        <label>Plan Name:
          <input type="text" name="planName" />
        </label>

       <label>Material Type:
          <select name="materialType" id="materialType"></select>
        </label>


        <label>Project Type:
          <select id="ProjectSelect"></select>
        </label>

        <label>Date:
          <input type="date" name="date" id="dateInput" />
        </label>

        <label>Estimator:
          <input type="text" name="estimator" id="estimatorInput" autocomplete="off" />
          <div id="estimatorDropdown" class="autocomplete-dropdown"></div>
        </label>

        <label>Select Branch:
          <select id="branchSelect"></select>
        </label>
      </div>

      <div id="laborRatesForm" class="form-section"></div>
    </form>

    <h2>Step 2: Upload Source File</h2>
    <div id="drop-zone">
      <p>Drag & drop your Excel file here, or <span class="click-browse">click</span> to browse</p>
      <input type="file" id="sourceFile" accept=".xlsx" />
    </div>
    <p id="uploadedFileName" style="font-weight: bold; margin-top: 10px;"></p>

    <div id="file-name"></div>

    <div id="loadingOverlay">
      <div id="loadingMessage">Loading...</div>
      <div class="loader"></div>
    </div>

    <div id="elevationSection">
      <h2>Step 3: Select Elevation</h2>
      <div id="folderButtons"></div>
      <hr>
    </div>

    <div id="mergedTableWrapper">
      <div id="mergedTableContainer"></div>
    </div>
  </div>
<div id="loadingOverlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:10000; align-items:center; justify-content:center;">
  <div id="loadingMessage" style="color:white; font-size:2rem; background:#222; padding:2rem; border-radius:1rem;">Processing...</div>
</div>

  <!-- ðŸ“œ Scripts -->
     <script src="password.js"></script>
  <script src="script.js"></script>
  <script src="form-init.js"></script>
  <script src="laborrates.js"></script>
  <script src="autocomplete-estimator.js"></script>
  <script src="autocomplete-builder.js"></script>
</body>
</html>